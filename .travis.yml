language: python
sudo: false

env:
  global:
    - PIP_DEPS="pytest coveralls pytest-cov flake8"
python:
  - '3.7'

install:
  - pip install coverage
  - pip install coveralls
  - pip install flake8
  - travis_retry pip install $PIP_DEPS
  - travis_retry pip install -r requirements.txt
  - travis_retry pip install -e

script:
  - py.test --pyargs xrdos --cov-report term-missing --cov=xrdos

after_success:
  - coverage report
  - coveralls
